# Mozilla doesn't want to rely on the configure script, so we hardcode the
# assumption that AVX and AVX2 are available.
TARGET_ARCHITECTURE = x64
CFLAGS_128 = -mavx
CFLAGS_256 = -mavx -mavx2
COMPILE_VEC128 = 1
COMPILE_VEC256 = 1
COMPILE_VALE = 1
COMPILE_INLINE_ASM = 1
COMPILE_INTRINSICS = 1


ifeq ($(uname),Linux)
  LDFLAGS       += -Xlinker -z -Xlinker noexecstack -Xlinker --unresolved-symbols=report-all
endif